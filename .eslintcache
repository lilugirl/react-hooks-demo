[{"/Users/yiliu/study/react/react-hooks-in-action/src/index.js":"1","/Users/yiliu/study/react/react-hooks-in-action/src/components/App.js":"2","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesPage.js":"3","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingsPage.js":"4","/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UsersPage.js":"5","/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UserPicker.js":"6","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesList.js":"7","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/reducer.js":"8","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/WeekPicker.js":"9","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/weekReducer.js":"10","/Users/yiliu/study/react/react-hooks-in-action/src/utils/date-wrangler.js":"11","/Users/yiliu/study/react/react-hooks-in-action/src/components/UI/Spinner.js":"12","/Users/yiliu/study/react/react-hooks-in-action/src/utils/api.js":"13","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesView.js":"14","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableDetails.js":"15","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/Bookings.js":"16","/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/AnagramsPage.js":"17","/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/anagrams.js":"18","/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/ProductPage.js":"19","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingsGrid.js":"20","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingDetails.js":"21","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/grid-builder.js":"22","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/Booking.js":"23","/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UserContext.js":"24","/Users/yiliu/study/react/react-hooks-in-action/src/utils/useFetch.js":"25","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/bookingsHooks.js":"26","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableEdit.js":"27","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableNew.js":"28"},{"size":138,"mtime":1629645633122,"results":"29","hashOfConfig":"30"},{"size":2218,"mtime":1630236371771,"results":"31","hashOfConfig":"30"},{"size":564,"mtime":1630236669680,"results":"32","hashOfConfig":"30"},{"size":506,"mtime":1630209500622,"results":"33","hashOfConfig":"30"},{"size":122,"mtime":1629645633122,"results":"34","hashOfConfig":"30"},{"size":962,"mtime":1630228789786,"results":"35","hashOfConfig":"30"},{"size":2278,"mtime":1630234546788,"results":"36","hashOfConfig":"30"},{"size":1308,"mtime":1629893209753,"results":"37","hashOfConfig":"30"},{"size":1627,"mtime":1630171498667,"results":"38","hashOfConfig":"30"},{"size":544,"mtime":1630170936253,"results":"39","hashOfConfig":"30"},{"size":491,"mtime":1630172067396,"results":"40","hashOfConfig":"30"},{"size":194,"mtime":1629812917882,"results":"41","hashOfConfig":"30"},{"size":615,"mtime":1630208859671,"results":"42","hashOfConfig":"30"},{"size":557,"mtime":1629975513192,"results":"43","hashOfConfig":"30"},{"size":1209,"mtime":1629973132720,"results":"44","hashOfConfig":"30"},{"size":746,"mtime":1630209569391,"results":"45","hashOfConfig":"30"},{"size":1755,"mtime":1630165006912,"results":"46","hashOfConfig":"30"},{"size":458,"mtime":1630163998864,"results":"47","hashOfConfig":"30"},{"size":939,"mtime":1630167307414,"results":"48","hashOfConfig":"30"},{"size":1788,"mtime":1630236222635,"results":"49","hashOfConfig":"30"},{"size":778,"mtime":1630234714362,"results":"50","hashOfConfig":"30"},{"size":893,"mtime":1630200896713,"results":"51","hashOfConfig":"30"},{"size":578,"mtime":1630210203565,"results":"52","hashOfConfig":"30"},{"size":626,"mtime":1630228713876,"results":"53","hashOfConfig":"30"},{"size":741,"mtime":1630234216918,"results":"54","hashOfConfig":"30"},{"size":788,"mtime":1630235750336,"results":"55","hashOfConfig":"30"},{"size":68,"mtime":1630236452326,"results":"56","hashOfConfig":"30"},{"size":66,"mtime":1630236480696,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"7o04xd",{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"60"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"60"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yiliu/study/react/react-hooks-in-action/src/index.js",[],["123","124"],"/Users/yiliu/study/react/react-hooks-in-action/src/components/App.js",["125","126"],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesPage.js",["127"],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingsPage.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UsersPage.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UserPicker.js",["128","129","130"],"import React, { useState,useEffect,useContext } from \"react\";\nimport Spinner from '../UI/Spinner';\nimport  { useUser } from \"./UserContext\";\nimport { UserSetContext } from \"./UserContext\";\nexport default function UserPicker () {\n  const [users,setUsers]=useState(null);\n  const [user,setUser]=useUser();\n\n\n  useEffect(()=>{\n    async function getUsers(url){\n         const resp=await fetch(url)\n         const data=await resp.json()\n         setUsers(data)\n         setUser(data[0])\n    }\n    getUsers('http://localhost:3002/users')\n  },[setUser])\n\n  function handleSelect(e){\n       console.log('handleSelect',e);\n       const selectID=parseInt(e.target.value,10);\n       const selectdUser=users.find(u=>u.id===selectID);\n       setUser(selectdUser)\n  }\n\n  if(users===null){\n    return <Spinner />\n  }\n  return (\n    <select onChange={handleSelect}>\n      {users.map(u=>(\n        <option key={u.id} value={u.id} >{u.name}</option>\n      ))}\n    </select>\n  );\n}","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesList.js",["131","132","133"],"import { useEffect,useState,useRef } from \"react\";\nimport { FaArrowRight } from \"react-icons/fa\";\nimport Spinner from \"../UI/Spinner\";\nimport useFetch from '../../utils/useFetch'\n\nexport default function BookablesList({bookable,setBookable}) {\n \nconst {data:bookables=[],status,error}=useFetch(\"http://localhost:3002/bookables\")\n\n  const group=bookable?.group;\n\n  const bookablesInGroup=bookables.filter(b=>b.group===group)\n  const groups = [...new Set(bookables.map((b) => b.group))];\n\n const timerRef=useRef(null);\n const nextButtonRef=useRef();\n\n useEffect(()=>{\n   setBookable(bookables[0])\n },[bookables,setBookable])\n\n \n\n  // useEffect(()=>{\n  //   timerRef.current=setInterval(()=>{\n  //     console.log('timer run')\n  //   //  nextBookable()\n    \n  //   },10000);\n\n  //   return ()=>{\n  //     console.log('清理 timer')\n  //     clearInterval(timerRef.current)\n  //   }\n\n  // },[])\n\n  function changeBookable(selectedBookable) {\n    setBookable(selectedBookable);\n    nextButtonRef.current.focus();\n  }\n\n  function nextBookable() {\n    const i=bookablesInGroup.indexOf(bookable);\n    const nextIndex=(i+1) % bookablesInGroup.length;\n    const nextBookable=bookablesInGroup[nextIndex];\n    setBookable(nextBookable);\n  }\n\n  function changeGroup(event) {\n    const bookablesInSelectedGroup=bookables.filter(b=>b.group===event.target.value);\n    setBookable(bookablesInSelectedGroup[0]);\n  }\n\n  \n  if(status===\"error\"){\n    return <p>{error.message}</p>\n  }\n\n  if(status==='loading'){\n    return <p><Spinner /> Loading bookables...</p>\n  }\n  return (\n    <div>\n    <select value={group} onChange={changeGroup}>\n      {groups.map((g) => (\n        <option value={g} key={g}>\n          {g}\n        </option>\n      ))}\n    </select>\n    <ul className=\"bookables items-list-nav\">\n      {bookablesInGroup.map((b) => (\n        <li\n          key={b.id}\n          className={b.id === bookable.id ? \"selected\" : null}\n         \n        >\n          <button className=\"btn\"  onClick={() => {\n            changeBookable(b);\n          }}>{b.title}</button>\n        </li>\n      ))}\n    </ul>\n    <p>\n      <button className=\"btn\" autoFocus onClick={nextBookable} ref={nextButtonRef} autoFocus>\n        <FaArrowRight />\n        <span>Next</span>\n      </button>\n    </p>\n  </div>\n  );\n}\n","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/reducer.js",[],["134","135"],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/WeekPicker.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/weekReducer.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/utils/date-wrangler.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/UI/Spinner.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/utils/api.js",["136","137"],"import { getDefaultWatermarks } from 'istanbul-lib-report';\nimport {shortISO} from './date-wrangler';\n\nexport function getBookings(bookableId,startDate,endDate){\n    const start=shortISO(startDate);\n    const end=shortISO(endDate);\n\n    const urlRoot=\"http://localhost:3002/bookings\";\n    const query=`bookableId=${bookableId}`+`&date_gte=${start}&date_lte=${end}`;\n\n    return getData(`${urlRoot}?${query}`);\n}\nexport default function getData(url){\n    return fetch(url).then(resp=>{\n        if(!resp.ok){\n            throw Error('There was a problem fetching data.')\n        }\n\n        return resp.json()\n    })\n}","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookablesView.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableDetails.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/Bookings.js",["138"],"import React, { useReducer,useState } from \"react\";\nimport { getWeek } from \"../../utils/date-wrangler\";\nimport BookingDetails from \"./BookingDetails\";\nimport BookingsGrid from \"./BookingsGrid\";\nimport WeekPicker from \"./WeekPicker\";\nimport weekReducer from \"./weekReducer\";\nconst Bookings=({bookable})=>{\n    const [week,dispatch]=useReducer(weekReducer, new Date(),getWeek)\n    const [booking,setBooking]=useState(null)\n\n    return <div className=\"bookings\">\n        <div>\n            <WeekPicker date={new Date()} />\n            <BookingsGrid week={week} bookable={bookable} booking={booking} setBooking={setBooking} />\n            <BookingDetails booking={booking} bookable={bookable} />\n\n        </div>\n    </div>\n}\n\nexport default Bookings;","/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/AnagramsPage.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/anagrams.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Anagrams/ProductPage.js",["139"],"import { useState,useMemo ,useEffect} from \"react\"\nconst nameList=['apple','peer','banana','lemon']\nconst ProductPage=()=>{\n\n    const [price,setPrice]=useState(0);\n    const [name,setName]=useState('apple');\n\n    function getProductName(){\n        console.log('getProductName触发');\n        return name;\n    }\n\n    useEffect(()=>{\n        console.log('name effect 触发')\n        getProductName()\n     },[name])\n\n    useEffect(()=>{\n       console.log('price effect触发')\n    },[price])\n\n\n   const memo_getProcutName=useMemo(()=>{\n       console.log('name memo触发');\n       return ()=>name;\n   },[name])\n   \n\n    return <>\n    <p>{name}</p>\n    {/* <p>{price}</p> */}\n    <p>{getProductName()}</p>\n    <p>{memo_getProcutName()}</p>\n    <button onClick={()=>setPrice(price+1)}>价钱+1</button>\n    <button onClick={()=>setName(nameList[Math.random()*nameList.length<<0])}>修改名字</button>\n    </>\n}\nexport default ProductPage","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingsGrid.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/BookingDetails.js",["140"],"import {useContext} from 'react'\nimport {FaEdit} from 'react-icons/fa'\nimport Booking from './Booking'\nimport {useUser} from '../Users/UserContext'\nexport default function BookingDetails({booking,bookable}){\n    const [user]=useUser();\n    const isBooker=booking && user && (booking.bookerId===user.id);\n\n    return (\n        <div className=\"booking-details\">\n           <h2>Booking Details</h2>\n           {isBooker && (<span className=\"controls\">\n               <button className=\"btn\"><FaEdit /></button>\n           </span>)}\n            {booking ?(\n                <Booking booking={booking} bookable={bookable}  />\n            ):(<div className=\"booking-details-fields\">\n                <p>Select a booking or a booking slot.</p>\n            </div>)}\n        </div>\n    )\n}","/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/grid-builder.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/Booking.js",["141"],"import React from 'react'\nexport default function Booking({booking,bookable}){\n    const {title,date,session,notes}=booking;\n   return (<div className=\"booking-details-fields\">\n         <label>Title</label>\n         <p>{title}</p>\n         <label>Bookable</label>\n         <p>{bookable.title}</p>\n         <label>Booking Date</label>\n         <p>{(new Date()).toDateString()}</p>\n         <label>Session</label>\n         <p>{session}</p>\n         {\n             notes && (<>\n             <label>Notes</label>\n             <p>{notes}</p>\n             </>)\n         }\n   </div>)\n}","/Users/yiliu/study/react/react-hooks-in-action/src/components/Users/UserContext.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/utils/useFetch.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookings/bookingsHooks.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableEdit.js",[],"/Users/yiliu/study/react/react-hooks-in-action/src/components/Bookables/BookableNew.js",[],{"ruleId":"142","replacedBy":"143"},{"ruleId":"144","replacedBy":"145"},{"ruleId":"146","severity":1,"message":"147","line":22,"column":10,"nodeType":"148","messageId":"149","endLine":22,"endColumn":14},{"ruleId":"146","severity":1,"message":"150","line":22,"column":15,"nodeType":"148","messageId":"149","endLine":22,"endColumn":22},{"ruleId":"146","severity":1,"message":"151","line":2,"column":8,"nodeType":"148","messageId":"149","endLine":2,"endColumn":21},{"ruleId":"146","severity":1,"message":"152","line":1,"column":36,"nodeType":"148","messageId":"149","endLine":1,"endColumn":46},{"ruleId":"146","severity":1,"message":"153","line":4,"column":10,"nodeType":"148","messageId":"149","endLine":4,"endColumn":24},{"ruleId":"146","severity":1,"message":"147","line":7,"column":10,"nodeType":"148","messageId":"149","endLine":7,"endColumn":14},{"ruleId":"146","severity":1,"message":"154","line":1,"column":20,"nodeType":"148","messageId":"149","endLine":1,"endColumn":28},{"ruleId":"146","severity":1,"message":"155","line":15,"column":8,"nodeType":"148","messageId":"149","endLine":15,"endColumn":16},{"ruleId":"156","severity":1,"message":"157","line":86,"column":84,"nodeType":"158","messageId":"159","endLine":86,"endColumn":93},{"ruleId":"142","replacedBy":"160"},{"ruleId":"144","replacedBy":"161"},{"ruleId":"146","severity":1,"message":"162","line":1,"column":10,"nodeType":"148","messageId":"149","endLine":1,"endColumn":30},{"ruleId":"163","severity":1,"message":"164","line":9,"column":43,"nodeType":"165","messageId":"166","endLine":9,"endColumn":44},{"ruleId":"146","severity":1,"message":"167","line":8,"column":17,"nodeType":"148","messageId":"149","endLine":8,"endColumn":25},{"ruleId":"168","severity":1,"message":"169","line":16,"column":8,"nodeType":"170","endLine":16,"endColumn":14,"suggestions":"171"},{"ruleId":"146","severity":1,"message":"152","line":1,"column":9,"nodeType":"148","messageId":"149","endLine":1,"endColumn":19},{"ruleId":"146","severity":1,"message":"172","line":3,"column":18,"nodeType":"148","messageId":"149","endLine":3,"endColumn":22},"no-native-reassign",["173"],"no-negated-in-lhs",["174"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'setUser' is assigned a value but never used.","'BookablesList' is defined but never used.","'useContext' is defined but never used.","'UserSetContext' is defined but never used.","'useState' is defined but never used.","'timerRef' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps",["173"],["174"],"'getDefaultWatermarks' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'dispatch' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProductName'. Either include it or remove the dependency array.","ArrayExpression",["175"],"'date' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"176","fix":"177"},"Update the dependencies array to be: [getProductName, name]",{"range":"178","text":"179"},[400,406],"[getProductName, name]"]